<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <link rel="stylesheet" href="../css/theme.css">
        <link rel="stylesheet" href="../css/pcui-theme-grey.css">
    </head>

    <body>
        <script type="module">
            import { GoldenLayout } from "../../Docker/index.js";
            import { Button } from "../../Sugar/index.js"

            const config = {

                root: {
                    // settings: {
                    //     // ðŸ‘‡ Add this!
                    //     popInOnClose: true,
                    // },
                    type: 'column',
                    content: [
                        {
                            type: 'row',
                            content: [
                                {
                                    type: 'stack',
                                    content: [
                                        {
                                            type: 'component',
                                            componentName: 'window1',
                                            title: 'Window 1',
                                            componentState: { label: 'This is Window 1' }
                                        },

                                        {
                                            type: 'component',
                                            componentName: 'win',
                                            title: 'Window 4',
                                            componentState: { label: 'This is Window 4' }
                                        },

                                        {
                                            type: 'component',
                                            componentName: 'win',
                                            title: 'Window 2',
                                            componentState: { label: 'This is Window 2' }
                                        },
                                    ]

                                },
                                {
                                    type: 'component',
                                    componentName: 'win',
                                    title: 'Window 6',
                                    componentState: { label: 'This is Window 6' }
                                },
                                {
                                    type: 'component',
                                    componentName: 'win',
                                    title: 'Window 3',
                                    componentState: { label: 'This is Window 3' }
                                },


                            ]
                        }
                    ],
                },
                settings: {
                    showCloseIcon: true,
                    showMaximiseIcon: true,
                    showPopoutIcon: true
                }
            };

            const layout = new GoldenLayout(config);

            layout.registerComponent('win', function (container, state) {
                container.element.innerHTML = `<div style="padding:10px;">${state.label}</div>`;
            });

            let x = new Button({ text: 'Click Me' });

            layout.registerComponent('window1', function (container, state) {
                container.element.appendChild(x.dom);
            });

            layout.init();
        </script>

    </body>

</html>

</script>
</body>

</html>